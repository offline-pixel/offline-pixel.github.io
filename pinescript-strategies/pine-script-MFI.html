<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../styles/blog-common.css" />
    <style>
        .fullscreen {
            padding: 10px 50px;
            max-width: 70%;
            margin: auto;
            text-align: justify;
        }
        .tip {
            background: #e8f4fc;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin: 20px 0;
        }
        .code-comment {
            color: #6a9955;
            font-style: italic;
        }
    </style>
    <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/1d0bc1a6c5f92dbb39d740b56/298aebd458318fd32c6cfc6a7.js");</script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0MM8039GLD"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-0MM8039GLD');
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9243803325136617" crossorigin="anonymous"></script>

    <title>Pine Script Money Flow Index (MFI) - Complete TradingView Guide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="alternate" type="application/atom+xml" title="RSS Feed" href="/feed.xml" />

    <meta name="description" content="Master the Money Flow Index (MFI) in Pine Script for TradingView - a volume-weighted momentum oscillator for identifying overbought/oversold conditions, trend strength, and divergence.">
    <meta name="keywords" content="pine script strategies, Money Flow Index, MFI, tradingview indicator, technical analysis, momentum oscillator, volume indicator, overbought, oversold, divergence">

    <!-- Open Graph / Social Meta -->
    <meta property="og:title" content="Pine Script Money Flow Index (MFI) - Complete TradingView Guide">
    <meta property="og:description" content="Comprehensive tutorial on implementing and using the Money Flow Index (MFI) in Pine Script for advanced trading strategies.">
    <meta property="og:type" content="article">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Pine Script Money Flow Index (MFI) - Complete TradingView Guide">
    <link rel="canonical" href="https://offline-pixel.github.io/pinescript-strategies/pine-script-MFI.html" />

    <!-- JSON-LD Schema -->
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Pine Script Money Flow Index (MFI) - Complete TradingView Guide",
      "description": "Master the Money Flow Index (MFI) in Pine Script for TradingView - a volume-weighted momentum oscillator for identifying overbought/oversold conditions, trend strength, and divergence.",
      "author": {
        "@type": "Person",
        "name": "Offline Pixel Computers"
      },
      "datePublished": "2025-06-10",
      "image": "https://offline-pixel.github.io/assets/logo2.png",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://offline-pixel.github.io/pinescript-strategies/pine-script-MFI.html"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Offline Pixel",
        "logo": {
          "@type": "ImageObject",
          "url": "https://offline-pixel.github.io/assets/logo2.png"
        }
      },
      "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://offline-pixel.github.io/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "PineScript Strategies",
            "item": "https://offline-pixel.github.io/pinescript-strategies.html"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "Money Flow Index (MFI)",
            "item": "https://offline-pixel.github.io/pinescript-strategies/pine-script-MFI.html"
          }
        ]
      }
    }
    </script>
</head>
<body>
  <header class="blog-header">
    <div class="container">
      <h1 class="blog-title">Pine Script Money Flow Index (MFI) </h1>
      <p class="blog-subtitle">Master this unique volume-weighted momentum oscillator in TradingView's Pine Script for identifying shifts in money flow, overbought/oversold conditions, and divergence.</p>
      <p class="job-meta">
        <span class="job-posted-time">Last Updated on: <span id="dynamicDatePosted"></span></span>
        <span class="job-location">Expertise: Intermediate</span>
      </p>
    </div>
  </header>

  <article class="fullscreen">
<nav class="breadcrumb" aria-label="Breadcrumb">
  <a href="https://offline-pixel.github.io/">Home</a> >
  <a href="https://offline-pixel.github.io/pinescript-strategies.html">PineScript Strategies</a> >
  <span aria-current="page">Money Flow Index (MFI)</span>
</nav>

  <div class="pinescript-disclaimer"></div>
  <ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9243803325136617"
     data-ad-slot="5548365171"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
    <h2>What is the Money Flow Index (MFI)?</h2>
    <p>The <b>Money Flow Index (MFI)</b> is a technical oscillator that measures the strength of money flowing into and out of an asset. It is similar to the Relative Strength Index (RSI) but incorporates volume data, making it a "volume-weighted RSI." MFI oscillates between 0 and 100. It's often used to identify overbought and oversold conditions, signal potential trend reversals, and confirm trend strength by showing the conviction behind price movements.</p>

    <p>In Pine Script, MFI is a valuable tool for traders seeking to understand whether purchasing or selling pressure is dominant, providing insights into buying and selling enthusiasm validated by volume.</p>

    <h2>Components and Calculation</h2>
    <p>The calculation of MFI involves several steps, integrating both price and volume:</p>
    <ol>
      <li><strong>Typical Price (TP)</strong>: `(High + Low + Close) / 3`</li>
      <li><strong>Raw Money Flow (RMF)</strong>: `Typical Price * Volume`</li>
      <li><strong>Positive Money Flow (PMF)</strong>: Sum of all `Raw Money Flow` values where the `Typical Price` is greater than the previous bar's `Typical Price` over the `length` period.</li>
      <li><strong>Negative Money Flow (NMF)</strong>: Sum of all `Raw Money Flow` values where the `Typical Price` is less than the previous bar's `Typical Price` over the `length` period.</li>
      <li><strong>Money Ratio (MR)</strong>: `PMF / NMF`</li>
      <li><strong>Money Flow Index (MFI) Formula</strong>: `MFI = 100 - (100 / (1 + Money Ratio))`</li>
    </ol>
    <p>If `NMF` is zero, `MR` will be infinite, and `MFI` will be 100. If `PMF` is zero, `MR` will be zero, and `MFI` will be 0.</p>

    <h2>Basic Money Flow Index (MFI) Implementation in Pine Script</h2>
    <p>Pine Script v5 provides a straightforward built-in function `ta.mfi()` for calculating the Money Flow Index.</p>

    <pre><code><span class="comment">//@version=5</span>
<span class="function">indicator</span>(<span class="string">"My MFI Indicator"</span>, overlay=<span class="keyword">false</span>) <span class="comment">// overlay=false to plot in a separate pane</span>

<span class="comment">// Input for MFI length</span>
<span class="keyword">length</span> = <span class="function">input.int</span>(<span class="number">14</span>, <span class="keyword">title</span>=<span class="string">"MFI Length"</span>, <span class="keyword">minval</span>=<span class="number">1</span>)

<span class="comment">// Calculate MFI value using the built-in function</span>
<span class="comment">// ta.mfi takes the source (usually close), high, low, and volume</span>
mfiValue = <span class="function">ta.mfi</span>(close, high, low, volume, length)

<span class="comment">// Plot the MFI line</span>
<span class="function">plot</span>(mfiValue, <span class="keyword">title</span>=<span class="string">"MFI"</span>, <span class="keyword">color</span>=<span class="keyword">color</span>.<span class="function">blue</span>, <span class="keyword">linewidth</span>=<span class="number">2</span>)

<span class="comment">// Plot horizontal lines for overbought and oversold levels</span>
h_overbought = <span class="function">hline</span>(<span class="number">80</span>, <span class="string">"Overbought (80)"</span>, <span class="keyword">color</span>.<span class="function">red</span>, <span class="keyword">linestyle</span>=<span class="keyword">hline</span>.<span class="function">style_dashed</span>)
h_oversold = <span class="function">hline</span>(<span class="number">20</span>, <span class="string">"Oversold (20)"</span>, <span class="keyword">color</span>.<span class="function">green</span>, <span class="keyword">linestyle</span>=<span class="keyword">hline</span>.<span class="function">style_dashed</span>)
<span class="function">hline</span>(<span class="number">50</span>, <span class="string">"Centerline"</span>, <span class="keyword">color</span>.<span class="function">gray</span>, <span class="keyword">linestyle</span>=<span class="keyword">hline</span>.<span class="function">style_dotted</span>)

<span class="comment">// Fill background between MFI and levels for visual clarity</span>
<span class="function">fill</span>(h_overbought, h_oversold, <span class="keyword">color</span>.<span class="function">new</span>(<span class="keyword">color</span>.<span class="function">gray</span>, <span class="number">90</span>))
</code></pre>


    <div class="tip">
      <strong>Standard Levels:</strong> The conventional overbought level is 80 and the oversold level is 20.
    </div>

    <h2>Practical MFI <a href="https://offline-pixel.github.io/pinescript-strategies.html">Trading Strategies</a></h2>

    <h3>1. Overbought and Oversold Conditions</h3>
    <p>When MFI moves above 80, the asset is considered overbought, suggesting an excessive inflow of money that might lead to a price correction. When MFI moves below 20, it's considered oversold, indicating an excessive outflow of money that might lead to a bounce.</p>
    <ul>
      <li><strong>Buy Signal</strong>: MFI moves below 20 (oversold) and then crosses back above 20. This indicates buying pressure is returning.</li>
      <li><strong>Sell Signal</strong>: MFI moves above 80 (overbought) and then crosses back below 80. This indicates selling pressure is returning.</li>
    </ul>
<pre><code><span class="comment">//@version=5</span>
<span class="function">strategy</span>(<span class="string">"MFI Overbought/Oversold Strategy"</span>, overlay=<span class="keyword">true</span>)

<span class="comment">// Inputs for MFI</span>
<span class="keyword">length</span> = <span class="function">input.int</span>(<span class="number">14</span>, <span class="keyword">title</span>=<span class="string">"MFI Length"</span>, <span class="keyword">minval</span>=<span class="number">1</span>)
<span class="keyword">overboughtLevel</span> = <span class="function">input.int</span>(<span class="number">80</span>, <span class="keyword">title</span>=<span class="string">"Overbought Level"</span>)
<span class="keyword">oversoldLevel</span> = <span class="function">input.int</span>(<span class="number">20</span>, <span class="keyword">title</span>=<span class="string">"Oversold Level"</span>)

<span class="comment">// Calculate MFI</span>
mfiValue = <span class="function">ta.mfi</span>(close, high, low, volume, length)

<span class="comment">// Define conditions for entries and exits</span>
<span class="comment">// Buy when MFI goes oversold and then crosses back above the oversold level</span>
longCondition = <span class="function">ta.crossunder</span>(mfiValue, oversoldLevel)
longExitCondition = <span class="function">ta.crossover</span>(mfiValue, oversoldLevel)

<span class="comment">// Sell when MFI goes overbought and then crosses back below the overbought level</span>
shortCondition = <span class="function">ta.crossover</span>(mfiValue, overboughtLevel)
shortExitCondition = <span class="function">ta.crossunder</span>(mfiValue, overboughtLevel)

<span class="comment">// Strategy entries/exits (entry upon exiting extreme zones)</span>
<span class="keyword">if</span> (longExitCondition)
    <span class="function">strategy.entry</span>(<span class="string">"Long"</span>, <span class="keyword">strategy</span>.<span class="function">long</span>)

<span class="keyword">if</span> (shortExitCondition)
    <span class="function">strategy.entry</span>(<span class="string">"Short"</span>, <span class="keyword">strategy</span>.<span class="function">short</span>)

<span class="comment">// Optional: Plot MFI in a separate pane for visualization</span>
<span class="comment">// plot(mfiValue, "MFI", color.blue)</span>
<span class="comment">// hline(overboughtLevel, "Overbought", color.red)</span>
<span class="comment">// hline(oversoldLevel, "Oversold", color.green)</span>
<span class="comment">// hline(50, "Centerline", color.gray)</span>
</code></pre>

    <h3>2. MFI Divergence Strategy (Key Signal)</h3>
    <p>Divergence between price and MFI is considered a strong signal, as it incorporates volume to confirm the underlying momentum. It suggests that the current trend is weakening despite price action.</p>
    <ul>
      <li><strong>Bullish Divergence</strong>: Price makes a lower low, but MFI makes a higher low. This indicates weakening bearish momentum with less selling volume, suggesting a potential upward reversal.</li>
      <li><strong>Bearish Divergence</strong>: Price makes a higher high, but MFI makes a lower high. This indicates weakening bullish momentum with less buying volume, suggesting a potential downward reversal.</li>
    </ul>
<pre><code><span class="comment">//@version=5</span>
<span class="function">indicator</span>(<span class="string">"MFI Divergence Scanner"</span>, overlay=<span class="keyword">true</span>)

<span class="comment">// Inputs for MFI</span>
<span class="keyword">length</span> = <span class="function">input.int</span>(<span class="number">14</span>, <span class="keyword">title</span>=<span class="string">"MFI Length"</span>, <span class="keyword">minval</span>=<span class="number">1</span>)
<span class="keyword">overboughtLevel</span> = <span class="function">input.int</span>(<span class="number">80</span>, <span class="keyword">title</span>=<span class="string">"Overbought Level"</span>)
<span class="keyword">oversoldLevel</span> = <span class="function">input.int</span>(<span class="number">20</span>, <span class="keyword">title</span>=<span class="string">"Oversold Level"</span>)
<span class="keyword">centerLine</span> = <span class="function">input.int</span>(<span class="number">50</span>, <span class="keyword">title</span>=<span class="string">"Centerline"</span>)

<span class="comment">// Calculate MFI</span>
mfiValue = <span class="function">ta.mfi</span>(close, high, low, volume, length)

<span class="comment">// Plot MFI in a separate pane</span>
<span class="function">plot</span>(mfiValue, <span class="string">"MFI"</span>, <span class="keyword">color</span>.<span class="function">blue</span>)
<span class="function">hline</span>(overboughtLevel, <span class="string">"Overbought (80)"</span>, <span class="keyword">color</span>.<span class="function">red</span>)
<span class="function">hline</span>(oversoldLevel, <span class="string">"Oversold (20)"</span>, <span class="keyword">color</span>.<span class="function">green</span>)
<span class="function">hline</span>(centerLine, <span class="string">"Centerline (50)"</span>, <span class="keyword">color</span>.<span class="function">gray</span>)

<span class="comment">// Simple divergence detection (conceptual, robust detection requires advanced pivot logic)</span>
<span class="comment">// This is a simplified example focusing on price vs MFI divergence.</span>

<span class="comment">// Bullish Divergence (Price lower low, MFI higher low)</span>
bullishDivergence = close[<span class="number">2</span>] > close[<span class="number">1</span>] <span class="keyword">and</span> close[<span class="number">1</span>] > close <span class="keyword">and</span> mfiValue[<span class="number">2</span>] &lt; mfiValue[<span class="number">1</span>] <span class="keyword">and</span> mfiValue[<span class="number">1</span>] &lt; mfiValue

<span class="comment">// Bearish Divergence (Price higher high, MFI lower high)</span>
bearishDivergence = close[<span class="number">2</span>] &lt; close[<span class="number">1</span>] <span class="keyword">and</span> close[<span class="number">1</span>] &lt; close <span class="keyword">and</span> mfiValue[<span class="number">2</span>] > mfiValue[<span class="number">1</span>] <span class="keyword">and</span> mfiValue[<span class="number">1</span>] > mfiValue

<span class="function">plotshape</span>(bullishDivergence, <span class="keyword">title</span>=<span class="string">"Bullish Divergence"</span>, <span class="keyword">location</span>=<span class="keyword">location</span>.<span class="function">belowbar</span>, <span class="keyword">color</span>=<span class="keyword">color</span>.<span class="function">green</span>, <span class="keyword">style</span>=<span class="keyword">shape</span>.<span class="function">triangleup</span>, <span class="keyword">size</span>=<span class="keyword">size</span>.<span class="function">small</span>)
<span class="function">plotshape</span>(bearishDivergence, <span class="keyword">title</span>=<span class="string">"Bearish Divergence"</span>, <span class="keyword">location</span>=<span class="keyword">location</span>.<span class="function">abovebar</span>, <span class="keyword">color</span>=<span class="keyword">color</span>.<span class="function">red</span>, <span class="keyword">style</span>=<span class="keyword">shape</span>.<span class="function">triangledown</span>, <span class="keyword">size</span>=<span class="keyword">size</span>.<span class="function">small</span>)

<span class="function">alertcondition</span>(bullishDivergence, <span class="string">"Bullish MFI Divergence"</span>, <span class="string">"Potential bullish reversal based on MFI divergence."</span>)
<span class="function">alertcondition</span>(bearishDivergence, <span class="string">"Bearish MFI Divergence"</span>, <span class="string">"Potential bearish reversal based on MFI divergence."</span>)
</code>
</pre>


    <h3>3. MFI Zero Line (50) Crossover</h3>
    <p>While MFI is typically used with overbought/oversold levels, the 50-line can act as a momentum centerline. Crossing above 50 suggests a shift towards positive money flow and bullish momentum, while crossing below 50 suggests increasing negative money flow and bearish momentum.</p>
<pre><code><span class="comment">//@version=5</span>
<span class="function">strategy</span>(<span class="string">"MFI Zero Line Crossover Strategy"</span>, overlay=<span class="keyword">true</span>)

<span class="comment">// Inputs for MFI</span>
<span class="keyword">length</span> = <span class="function">input.int</span>(<span class="number">14</span>, <span class="keyword">title</span>=<span class="string">"MFI Length"</span>, <span class="keyword">minval</span>=<span class="number">1</span>)
<span class="keyword">centerLine</span> = <span class="function">input.int</span>(<span class="number">50</span>, <span class="keyword">title</span>=<span class="string">"Centerline"</span>)

<span class="comment">// Calculate MFI</span>
mfiValue = <span class="function">ta.mfi</span>(close, high, low, volume, length)

<span class="comment">// Define conditions for entries</span>
longSignal = <span class="function">ta.crossover</span>(mfiValue, centerLine)
shortSignal = <span class="function">ta.crossunder</span>(mfiValue, centerLine)

<span class="comment">// Strategy entries/exits</span>
<span class="keyword">if</span> (longSignal)
    <span class="function">strategy.entry</span>(<span class="string">"Long"</span>, <span class="keyword">strategy</span>.<span class="function">long</span>)

<span class="keyword">if</span> (shortSignal)
    <span class="function">strategy.entry</span>(<span class="string">"Short"</span>, <span class="keyword">strategy</span>.<span class="function">short</span>)

<span class="comment">// Optional: Plot MFI in a separate pane</span>
<span class="comment">// plot(mfiValue, "MFI", color.blue)</span>
<span class="comment">// hline(centerLine, "Centerline", color.gray)</span>
</code></pre>


    <h2>Optimizing MFI Performance</h2>
    <p>To get the most from the Money Flow Index in Pine Script:</p>
    <ul>
      <li><strong>Parameter Tuning:</strong> The `length` parameter (default 14) influences MFI's sensitivity. Shorter lengths make it more responsive but potentially noisier, while longer lengths provide smoother signals but with more lag. Experiment to find optimal settings for your specific asset and timeframe.</li>
      <li><strong>Adjust Extreme Levels:</strong> For highly volatile assets or strong trends, you might consider adjusting the overbought/oversold levels (e.g., 90/10 or even 95/5) to filter for only more extreme money flow conditions.</li>
      <li><strong>Combine with Price Action:</strong> MFI's strength lies in its volume component. Look for MFI signals that are confirmed by significant price action, such as candlestick patterns, breaks of support/resistance, or chart patterns, especially when volume is also increasing.</li>
      <li><strong>Multi-Timeframe Analysis:</strong> Confirm MFI signals on a higher timeframe before acting on signals from a lower timeframe for added reliability. A divergence on a daily chart combined with an oversold signal on a 4-hour chart provides stronger confluence.</li>
      <li><strong>Trend Confirmation vs. Reversal:</strong> Differentiate between MFI confirming a strong trend (staying at extremes) and signaling a reversal (divergence or exiting extremes).</li>
    </ul>

    <div class="tip">
      <strong>Volume is Key:</strong> MFI's integration of volume provides a unique advantage over purely price-based momentum oscillators like RSI, offering greater conviction behind signals.
    </div>

    <h2>Common MFI Pitfalls</h2>
    <ul>
      <li> <b>False Signals in Ranging Markets:</b> While volume-weighted, MFI can still generate numerous false overbought/oversold signals when the market is consolidating sideways with inconsistent volume.</li>
      <li> <b>Lag:</b> Despite its volume component, MFI is still a lagging indicator. Signals might appear after a portion of the price move has already occurred.</li>
      <li> <b>Divergence Can Be Early:</b> Divergence is powerful but can signal a potential reversal too early, and the trend might continue for some time after the divergence appears.</li>
      <li> <b>Requires Volume Data:</b> MFI relies heavily on accurate volume data. For assets or exchanges where volume data is unreliable or unavailable, MFI will not be effective.</li>
      <li> <b>Not a Standalone Indicator:</b> MFI should always be used as part of a broader trading system, combined with other indicators (e.g., trend-following indicators) and price action analysis for confirmation.</li>
    </ul>

    <h2>Conclusion</h2>
    <p>The Money Flow Index (MFI) is a robust and highly insightful momentum oscillator in Pine Script for TradingView. Its unique integration of volume data provides a clearer and more convicted view of money flowing into and out of an asset, making it invaluable for identifying overbought/oversold conditions, assessing trend strength, and spotting powerful reversals through divergence. By understanding its calculation, thoughtfully tuning its parameters, and integrating it strategically with other technical analysis tools, you can leverage the MFI to gain deeper insights into market dynamics and enhance your trading decisions.</p>
  
        <section class="cta-section custom-strategy-cta">
            <h2 class="cta-title">Enhance Your Trading</h2>
            <p>Get a high-performance Pine Script analysis tool for actionable market insights, designed for traders on the move.</p>
            <p>This strategy runs in live mode on TradingView, helping you identify potential opportunities.</p>
            <a href="https://offlinepixel.gumroad.com/l/trader-on-the-go" class="btn custom-btn" target="_blank" rel="noopener noreferrer">
              Subscribe now @ $99/month
            </a>
        </section>
</article>

  <ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9243803325136617"
     data-ad-slot="5548365171"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <script src="../scripts/scripts.js"></script>
  <script src="../scripts/dynamicContent.js" defer></script>
  <script src="../scripts/pinescript-disclaimer.js"></script>

</body>
</html>
